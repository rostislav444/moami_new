# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

## Server vs Client Components

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Server Components:
- ‚úÖ –°—Ç–∞—Ç–∏—á–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç (–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
- ‚úÖ SEO-–∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ –ü–µ—Ä–≤–∏—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞

### –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Client Components:
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (—Ñ–æ—Ä–º—ã, –∫–Ω–æ–ø–∫–∏, –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞)
- ‚úÖ –†–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è (–ø–æ–∏—Å–∫, –∫–æ—Ä–∑–∏–Ω–∞)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (useState, useReducer)

## –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–∞–Ω–Ω—ã—Ö

### SSR + TanStack Query –≥–∏–±—Ä–∏–¥:

```typescript
// 1. Server Component –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
async function CategoryPage({ params }) {
    const categories = await getCategoriesServer(); // Server-side fetch
    
    return (
        <Layout categories={categories}>
            <CategoriesServer initialCategories={categories} />
        </Layout>
    );
}

// 2. –ì–∏–¥—Ä–∞—Ç–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –≤ TanStack Query
function CategoriesClient({ initialCategories }) {
    const queryClient = useQueryClient();
    
    useEffect(() => {
        queryClient.setQueryData(['categories'], initialCategories);
    }, []);
    
    return null; // –¢–æ–ª—å–∫–æ –¥–ª—è –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏
}

// 3. Client Components –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Ö—É–∫–∏
function InteractiveComponent() {
    const { data: categories } = useCategories(); // –ò–∑ –∫–µ—à–∞ –∏–ª–∏ API
    // –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞
}
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:

### üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- **Server Components** —Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ‚Üí –º–µ–Ω—å—à–µ JS –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –∫–ª–∏–µ–Ω—Ç–∞  
- **–ü–µ—Ä–≤–∏—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** –º–≥–Ω–æ–≤–µ–Ω–Ω–∞—è (SSR)

### üîÑ UX:
- **–ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** —á–µ—Ä–µ–∑ –∫–µ—à TanStack Query
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** –¥–∞–Ω–Ω—ã—Ö
- **–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### üõ† DX:
- **TypeScript** —Ç–∏–ø–∏–∑–∞—Ü–∏—è –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- **React Query DevTools** –¥–ª—è –¥–µ–±–∞–≥–∞
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è** –∑–∞–ø—Ä–æ—Å–æ–≤

## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤

| –ü–æ–¥—Ö–æ–¥ | SSR | –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ | –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å | Bundle Size |
|--------|-----|-------------|-----------------|-------------|
| –¢–æ–ª—å–∫–æ Zustand | ‚ùå | ‚ö†Ô∏è | ‚úÖ | –ú–∞–ª–µ–Ω—å–∫–∏–π |
| –¢–æ–ª—å–∫–æ Server | ‚úÖ | ‚úÖ | ‚ùå | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π |
| **SSR + TanStack Query** | ‚úÖ | ‚úÖ | ‚úÖ | –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π |

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```
components/
‚îú‚îÄ‚îÄ layout/
‚îÇ   ‚îú‚îÄ‚îÄ HeaderServer.tsx      // Server Component
‚îÇ   ‚îú‚îÄ‚îÄ HeaderClient.tsx      // Client –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –º–µ–Ω—é
‚îÇ   ‚îî‚îÄ‚îÄ Layout.tsx           // Server Component
‚îú‚îÄ‚îÄ home/
‚îÇ   ‚îú‚îÄ‚îÄ CategoriesServer.tsx  // Server Component
‚îÇ   ‚îî‚îÄ‚îÄ CategoriesClient.tsx  // Client –¥–ª—è –≥–∏–¥—Ä–∞—Ç–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ ui/
    ‚îî‚îÄ‚îÄ LoadingSpinner.tsx   // Client Component
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Server Components** - –¥–æ–±–∞–≤–ª—è–π—Ç–µ `'use client'` —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
2. **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ Client Components** - –≤—ã–Ω–æ—Å–∏—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–∞–ª–µ–Ω—å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
3. **–ì–∏–¥—Ä–∞—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–µ–≤–∏–¥–∏–º—ã–µ Client Components –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ TanStack Query
4. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ `staleTime` –∏ `gcTime` –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö 